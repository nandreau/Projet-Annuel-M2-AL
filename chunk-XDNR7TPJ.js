import{D as z,g as S,s as U}from"./chunk-BGEFYTHM.js";import{j as E,l as F,s as M}from"./chunk-DCZ4DVFQ.js";import{Ab as o,Bb as m,Cb as x,Gb as g,Lb as f,Mb as _,Oa as h,Ra as s,Wb as y,Xb as w,db as C,ea as c,fa as u,jb as d,na as v,rb as r,sc as b}from"./chunk-SDAJZUUB.js";function T(t,e){if(t&1){let p=g();o(0,"div",6),x(1,"img",7),o(2,"p-button",8),f("click",function(){let n=c(p).index,a=_();return u(a.remove(n))}),m()()}if(t&2){let p=e.$implicit,i=_();r("ngClass",i.images.length<3?"col-6":"col-3"),s(),r("src",p,h),s(),r("rounded",!0)}}function j(t,e){t&1&&(o(0,"div",9),w(1," Glissez-d\xE9posez ou cliquez pour ajouter une image "),m())}var P=(()=>{let e=class e{constructor(){this.images=[],this.imagesChange=new v}remove(i){this.images.splice(i,1),this.imagesChange.emit(this.images)}upload(i,n){for(let a of i.files){let l=new FileReader;l.onload=()=>{this.images.push(l.result),this.imagesChange.emit(this.images)},l.readAsDataURL(a)}n.clear()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=C({type:e,selectors:[["app-image-manager"]],inputs:{images:"images"},outputs:{imagesChange:"imagesChange"},decls:7,vars:4,consts:[["fu",""],["empty",""],[1,"grid"],["class","relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-full","bg-white","text-sm"],["name","images","accept","image/*","mode","advanced","chooseLabel","Ajouter","uploadLabel","Envoyer","cancelLabel","Annuler",1,"w-full",3,"uploadHandler","customUpload","multiple","maxFileSize"],[1,"relative",3,"ngClass"],[1,"border-round-md","object-cover","rounded","w-full",3,"src"],["icon","pi pi-times","variant","text","severity","secondary",1,"absolute","top-0","right-0",3,"click","rounded"],[1,"flex","items-center","justify-center","h-full","text-gray-500"]],template:function(n,a){if(n&1){let l=g();o(0,"div",2),d(1,T,3,3,"div",3),m(),o(2,"div",4)(3,"p-fileUpload",5,0),f("uploadHandler",function(V){c(l);let I=y(4);return u(a.upload(V,I))}),d(5,j,2,0,"ng-template",null,1,b),m()()}n&2&&(s(),r("ngForOf",a.images),s(2),r("customUpload",!0)("multiple",!0)("maxFileSize",1e6))},dependencies:[M,E,F,z,S,U],encapsulation:2});let t=e;return t})();export{P as a};
