import{D as q,e as W}from"./chunk-BGEFYTHM.js";import{H as E,Ib as k,J as L,L as N,W as P,k as w,l as M}from"./chunk-JUQHIW5V.js";import{B as b,E as v,F as _,G as x,H as C,I,M as T}from"./chunk-DCZ4DVFQ.js";import"./chunk-F2X3VGZZ.js";import{Ab as t,Bb as n,Cb as S,Lb as y,Ra as m,Wa as p,Xb as a,ac as d,bc as u,cc as g,db as f,rb as h}from"./chunk-SDAJZUUB.js";import"./chunk-K52QYQVA.js";import"./chunk-7KGURMOZ.js";import"./chunk-I4GAAI6Y.js";import"./chunk-T6YKWIIR.js";import"./chunk-VBESZKOS.js";import"./chunk-4BZVYRZJ.js";import"./chunk-BNWIWOXL.js";import"./chunk-4U6PRYVA.js";import"./chunk-DLZWFDKZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import"./chunk-OWF7QSRQ.js";var O=(()=>{let r=class r{constructor(s,e){this.request=s,this.router=e,this.email="",this.password=""}onSubmit(){let s={email:this.email,password:this.password};this.request.post("api/auth/signin",s,!0).subscribe({next:e=>{localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("currentUser",JSON.stringify(e)),this.router.navigate(["/"])},error:e=>{console.error(e)}})}};r.\u0275fac=function(e){return new(e||r)(p(k),p(w))},r.\u0275cmp=f({type:r,selectors:[["app-login"]],decls:20,vars:3,consts:[[3,"fullscreen"],[1,"login-background"],[1,"login-form"],[1,"login-header","flex"],["src","assets/logo.png","alt","logo",1,"w-5rem","h-5rem","mr-2"],[1,"login-title"],[1,"login-subtitle","mb-5"],[3,"ngSubmit"],[1,"login-form-group"],["type","text","pInputText","","placeholder","Adresse mail","name","email","autocomplete","email",3,"ngModelChange","ngModel"],["type","password","pInputText","","placeholder","Mot de passe","name","password","autocomplete","current-password",3,"ngModelChange","ngModel"],["mode","ios","expand","block","type","submit",1,"mt-5"],[1,"text-center","text-md","text-gray-600","mt-6"],["routerLink","/register",1,"text-blue-600","hover:underline"]],template:function(e,i){e&1&&(t(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3),S(4,"ion-img",4),t(5,"h1",5),a(6,"EasyPlanner"),n()(),t(7,"h2",6),a(8,"Se connecter"),n(),t(9,"form",7),y("ngSubmit",function(){return i.onSubmit()}),t(10,"div",8)(11,"input",9),g("ngModelChange",function(o){return u(i.email,o)||(i.email=o),o}),n()(),t(12,"div",8)(13,"input",10),g("ngModelChange",function(o){return u(i.password,o)||(i.password=o),o}),n()(),t(14,"ion-button",11),a(15,"Connexion"),n()(),t(16,"div",12),a(17," Vous n\u2019avez pas de compte ? "),t(18,"a",13),a(19,"S\u2019inscrire"),n()()()()()),e&2&&(h("fullscreen",!0),m(11),d("ngModel",i.email),m(2),d("ngModel",i.password))},dependencies:[T,I,b,v,_,C,x,M,P,E,L,N,q,W],encapsulation:2});let l=r;return l})();export{O as LoginPage};
